{"version":3,"sources":["Components/PersonForm.js","Components/Person.js","Components/Persons.js","Components/Filter.js","Services/Persons.js","Components/Notification.js","App.js","index.js"],"names":["PersonForm","persons","handleSetperson","handleEditPerson","useState","newName","setNewName","newPhone","setNewPhone","onChange","event","target","value","onClick","preventDefault","duplicatedPerson","find","p","name","toUpperCase","length","alert","phone","window","confirm","type","Person","handleDeletePerson","person","console","log","id","Persons","filter","map","toLowerCase","includes","key","Filter","handleSetFilter","setFilter","baseUrl","axios","get","then","res","data","newPerson","post","put","delete","Notification","message","className","App","setPersons","notification","setnotification","useEffect","PersonService","addedPerson","response","concat","setTimeout","catch","err","error","deleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0173b5b7.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nconst PersonForm = ({persons, handleSetperson, handleEditPerson}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handlePhoneChange = (event) => {\n    setNewPhone(event.target.value)\n  }\n\n\n  const handlePersonAdd = (event) => {\n    event.preventDefault()\n    let duplicatedPerson = persons.find(p => p.name.toUpperCase() === newName.toUpperCase())\n    if (newName.length === 0 || newPhone.length === 0 ) {\n      alert('You must fill both fields')\n    } else if (!duplicatedPerson) {\n      handleSetperson({ name: newName, phone: newPhone})\n    } else if (duplicatedPerson.phone !== newPhone) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) { \n        handleEditPerson({...duplicatedPerson, phone: newPhone })\n      }\n    }\n    setNewName('')\n    setNewPhone('')\n  }\n\n  return (\n    <div>\n      <form>\n        <h2>Add a new</h2>\n        <div>\n          name: <input onChange={handleNameChange} value={newName} />\n        </div>\n        <div>number: <input onChange = {handlePhoneChange} value = {newPhone} /></div>\n        <div>\n          <button onClick={handlePersonAdd} type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({handleDeletePerson, person}) => {\n\n  const handleDeleteButtonClick = () => {\n    console.log(person.id);\n    if (window.confirm(`Are you sure you want to delete ${person.name} from the phonebook?`)) { \n      handleDeletePerson(person.id)\n    }\n    \n  }\n  return (\n    <div>\n      {person.name} {person.phone} \n      <button onClick = {handleDeleteButtonClick}>Delete</button>\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({handleDeletePerson, persons, filter}) => {\n\n  return (\n    <div>\n      {persons.map( person =>\n           (person.name.toLowerCase().includes(filter.toLowerCase())) \n           ? <Person\n                key = {person.id}\n                person = {person} \n                handleDeletePerson = {handleDeletePerson}\n                /> \n           : '' \n      )}\n    </div>\n  )\n}\n\nexport default Persons","import React, { useState } from 'react'\n\nconst Filter = ({handleSetFilter}) => {\n  const [ filter, setFilter] = useState('')\n\n  const handleFilter = (event) => {\n    handleSetFilter(event.target.value)\n    setFilter(event.target.value)\n  }\n  return (\n    <div>\n      Filter shown with <input onChange = {handleFilter} value = {filter} />\n    </div>\n  )\n\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n    .then(res => res.data)\n}\n\nconst create = newPerson => {\n  return axios.post(baseUrl, newPerson)\n    .then(res => res.data)\n}\n\nconst update = (id, newPerson) => {\n  return axios.put(`${baseUrl}/${id}`, newPerson)\n    .then(res => res.data)\n}\n\nconst delet = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n    .then(res => res.data)\n}\n\nexport default {getAll, create, update, delet}","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport Filter from './Components/Filter'\nimport PersonService from './Services/Persons'\nimport Notification from './Components/Notification'\n\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [notification, setnotification] = useState({message: null, type: null})\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(res => {\n        setPersons(res)\n      })\n  }, [])\n\n  const handleSetperson = (addedPerson) => {\n    PersonService\n      .create(addedPerson)\n      .then(response => {\n        setPersons(persons.concat({name: response.name, phone: response.phone, id: response.id}))\n        setnotification({\n          message: `${response.name} has been added to the phonebook`,\n          type: 'success'\n        })\n        setTimeout(() => {\n          setnotification({message: null, type: null})\n        }, 5000)\n      }).catch(err => {\n        setnotification({\n          message: err.response.data.error,\n          type: 'error'\n        })\n        setTimeout(() => {\n          setnotification({message: null, type: null})\n        }, 5000)\n      })\n  }\n\n  const handleDeletePerson = (id) => {\n    const deleted = persons.find(p => p.id === id)\n    PersonService\n      .delet(id)\n      .then(res => {\n        setPersons(persons.filter(p => p.id !== id))\n        setnotification({\n          message: `${deleted.name} has been removed from server`,\n          type: 'error'\n        })\n        setTimeout(() => {\n          setnotification({message: null, type: null})\n        }, 5000)\n      })\n  }\n\n  const handleSetFilter = (filter) => {\n    setFilter(filter)\n  }\n\n  const handleEditPerson = (person) => {\n    PersonService\n      .update(person.id, person)\n      .then(res => {\n        setPersons(persons.map(p => p.id === person.id\n          ? person\n          : p\n          ))\n      })\n      .catch(err => {\n        setnotification({\n          message: err.response.data.error,\n          type: 'error'\n        })\n        setTimeout(() => {\n          setnotification({message: null, type: null})\n        }, 5000)\n      })\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message = {notification.message} type = {notification.type} />\n\n      <Filter handleSetFilter = {handleSetFilter} />      \n\n      <PersonForm\n        persons = {persons}\n        handleSetperson = {handleSetperson}\n        handleEditPerson = {handleEditPerson}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        handleDeletePerson = {handleDeletePerson}\n        persons = {persons}\n        filter = {filter}\n      />\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}